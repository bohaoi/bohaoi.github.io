(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-792f7732"],{"41efd":function(t,e,i){},"45fc":function(t,e,i){"use strict";var n=i("23e7"),o=i("b727").some,s=i("a640"),a=i("ae40"),r=s("some"),l=a("some");n({target:"Array",proto:!0,forced:!r||!l},{some:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,i){var n=i("1d80"),o=i("5899"),s="["+o+"]",a=RegExp("^"+s+s+"*"),r=RegExp(s+s+"*$"),l=function(t){return function(e){var i=String(n(e));return 1&t&&(i=i.replace(a,"")),2&t&&(i=i.replace(r,"")),i}};t.exports={start:l(1),end:l(2),trim:l(3)}},7156:function(t,e,i){var n=i("861d"),o=i("d2bb");t.exports=function(t,e,i){var s,a;return o&&"function"==typeof(s=e.constructor)&&s!==i&&n(a=s.prototype)&&a!==i.prototype&&o(t,a),t}},a9e3:function(t,e,i){"use strict";var n=i("83ab"),o=i("da84"),s=i("94ca"),a=i("6eeb"),r=i("5135"),l=i("c6b6"),c=i("7156"),u=i("c04e"),d=i("d039"),m=i("7c73"),p=i("241c").f,h=i("06cf").f,f=i("9bf2").f,b=i("58a8").trim,g="Number",v=o[g],x=v.prototype,w=l(m(x))==g,_=function(t){var e,i,n,o,s,a,r,l,c=u(t,!1);if("string"==typeof c&&c.length>2)if(c=b(c),e=c.charCodeAt(0),43===e||45===e){if(i=c.charCodeAt(2),88===i||120===i)return NaN}else if(48===e){switch(c.charCodeAt(1)){case 66:case 98:n=2,o=49;break;case 79:case 111:n=8,o=55;break;default:return+c}for(s=c.slice(2),a=s.length,r=0;r<a;r++)if(l=s.charCodeAt(r),l<48||l>o)return NaN;return parseInt(s,n)}return+c};if(s(g,!v(" 0o1")||!v("0b1")||v("+0x1"))){for(var y,k=function(t){var e=arguments.length<1?0:t,i=this;return i instanceof k&&(w?d((function(){x.valueOf.call(i)})):l(i)!=g)?c(new v(_(e)),i,k):_(e)},C=n?p(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),I=0;C.length>I;I++)r(v,y=C[I])&&!r(k,y)&&f(k,y,h(v,y));k.prototype=x,x.constructor=k,a(o,g,k)}},c740:function(t,e,i){"use strict";var n=i("23e7"),o=i("b727").findIndex,s=i("44d2"),a=i("ae40"),r="findIndex",l=!0,c=a(r);r in[]&&Array(1)[r]((function(){l=!1})),n({target:"Array",proto:!0,forced:l||!c},{findIndex:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),s(r)},d569:function(t,e,i){"use strict";var n=i("41efd"),o=i.n(n);o.a},e036:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-container",{staticStyle:{position:"absolute",top:"55px",bottom:"0",left:"0",right:"0"}},[i("el-header",{staticClass:"d-flex align-items-center border-bottom"},[i("div",{staticClass:"d-flex mr-auto"},[i("el-select",{staticClass:"mr-2",staticStyle:{width:"150px"},attrs:{placeholder:"请选择图片排序方式",size:"mini"},model:{value:t.searchForm.order,callback:function(e){t.$set(t.searchForm,"order",e)},expression:"searchForm.order"}},[i("el-option",{attrs:{label:"区域一",value:"shanghai"}}),i("el-option",{attrs:{label:"区域二",value:"beijing"}})],1),i("el-input",{staticClass:"mr-2",staticStyle:{width:"150px"},attrs:{size:"mini",placeholder:"输入相册名称"},model:{value:t.searchForm.keyword,callback:function(e){t.$set(t.searchForm,"keyword",e)},expression:"searchForm.keyword"}}),i("el-button",{attrs:{type:"success",size:"mini"}},[t._v("搜索")])],1),t.chooseList.length?i("el-button",{attrs:{type:"warning",size:"mini"},on:{click:t.unChoose}},[t._v(" 取消选中")]):t._e(),t.chooseList.length?i("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(e){return t.imageDel({all:!0})}}},[t._v(" 批量删除")]):t._e(),i("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(e){return t.openAlbumModel(!1)}}},[t._v("创建相册")]),i("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(e){t.uploadModel=!0}}},[t._v("上传图片")])],1),i("el-container",[i("el-aside",{staticClass:"bg-white border-right",staticStyle:{position:"absolute",top:"60px",left:"0",bottom:"60px"},attrs:{width:"200px"}},[i("ul",{staticClass:"list-group list-group-flush"},t._l(t.albums,(function(e,n){return i("album-item",{key:n,attrs:{item:e,index:n,active:t.albumIndex===n},on:{change:t.albumChange,edit:t.openAlbumModel,del:t.albumDel}})})),1)]),i("el-container",[i("el-main",{staticStyle:{position:"absolute",top:"60px",left:"200px",bottom:"60px",right:"0"}},[i("el-row",{attrs:{gutter:10}},t._l(t.imageList,(function(e,n){return i("el-col",{key:n,attrs:{span:24,lg:4,md:6,sm:8}},[i("el-card",{staticClass:"box-card mb-3 position-relative",staticStyle:{cursor:"pointer"},attrs:{"body-style":{padding:"0"},shadow:"hover"}},[i("div",{staticClass:"border",class:{"border-danger":e.ischeck}},[e.ischeck?i("span",{staticClass:"badge badge-danger",staticStyle:{position:"absolute",right:"0",top:"0"}},[t._v(" "+t._s(e.checkOrder))]):t._e(),i("img",{staticClass:"w-100",staticStyle:{height:"100px"},attrs:{src:e.url},on:{click:function(i){return t.choose(e)}}}),i("div",{staticClass:"w-100 text-white px-1",staticStyle:{background:"rgba(0,0,0,0.5)","margin-top":"-25px",position:"absolute"}},[i("span",{staticClass:"small"},[t._v(t._s(e.name))])]),i("div",{staticClass:"p-2 text-center"},[i("el-button-group",[i("el-button",{staticClass:"p-2",attrs:{icon:"el-icon-view",size:"mini"},on:{click:function(i){return t.previewImage(e)}}}),i("el-button",{staticClass:"p-2",attrs:{icon:"el-icon-edit",size:"mini"},on:{click:function(i){return t.imageEdit(e,n)}}}),i("el-button",{staticClass:"p-2",attrs:{icon:"el-icon-delete",size:"mini"},on:{click:function(e){return t.imageDel({index:n})}}})],1)],1)])])],1)})),1)],1)],1)],1),i("el-footer",{staticClass:"border-top d-flex align-items-center px-0"},[i("div",{staticClass:"h-100 d-flex align-items-center justify-content-center border-right",staticStyle:{width:"200px","flex-shrink":"0"}},[i("el-button-group",[i("el-button",{attrs:{size:"mini"}},[t._v("上一页")]),i("el-button",{attrs:{size:"mini"}},[t._v("下一页")])],1)],1),i("div",{staticClass:"px-2",staticStyle:{flex:"1"}},[i("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":[100,200,300,400],"page-size":100,layout:"total, sizes, prev, pager, next, jumper",total:400},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)])],1),i("el-dialog",{attrs:{title:t.albumModelTitle,visible:t.albumModel},on:{"update:visible":function(e){t.albumModel=e}}},[i("el-form",{ref:"form",attrs:{model:t.albumForm,"label-width":"80px"}},[i("el-form-item",{attrs:{label:"相册名称"}},[i("el-input",{attrs:{size:"medium",placeholder:"请输入相册名称"},model:{value:t.albumForm.name,callback:function(e){t.$set(t.albumForm,"name",e)},expression:"albumForm.name"}})],1),i("el-form-item",{attrs:{label:"相册排序"}},[i("el-input-number",{attrs:{min:0,size:"medium"},model:{value:t.albumForm.order,callback:function(e){t.$set(t.albumForm,"order",e)},expression:"albumForm.order"}})],1)],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.albumModel=!1}}},[t._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:t.confirmAlbumModel}},[t._v("确 定")])],1)],1),i("el-dialog",{attrs:{title:"上传图片",visible:t.uploadModel},on:{"update:visible":function(e){t.uploadModel=e}}},[i("div",{staticClass:"text-center"},[i("el-upload",{staticClass:"upload-demo w-100",attrs:{drag:"",action:"https://jsonplaceholder.typicode.com/posts/",multiple:""}},[i("i",{staticClass:"el-icon-upload"}),i("div",{staticClass:"el-upload__text"},[t._v("将文件拖到此处，或"),i("em",[t._v("点击上传")])]),i("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传jpg/png文件，且不超过500kb")])])],1)]),i("el-dialog",{attrs:{visible:t.previewModel,width:"60vw",top:"5vh"},on:{"update:visible":function(e){t.previewModel=e}}},[i("div",{staticStyle:{margin:"-60px -20px -30px -20px"}},[i("img",{staticClass:"w-100",attrs:{src:t.previewUrl}})])])],1)},o=[],s=(i("4de4"),i("c740"),i("4160"),i("45fc"),i("a434"),i("b0c0"),i("159b"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",{staticClass:"list-group-item list-group-item-action d-flex align-items-center",class:{"active sum-active":t.active},staticStyle:{cursor:"pointer"},on:{click:function(e){return e.stopPropagation(),t.$emit("change",t.index)}}},[t._v(" "+t._s(t.item.name)+" "),t.showOptions?i("el-dropdown",{staticClass:"ml-auto"},[i("span",{staticClass:"btn btn-light btn-sm border"},[t._v(" "+t._s(t.item.num)+" "),i("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{nativeOn:{click:function(e){return e.stopPropagation(),t.$emit("edit",{item:t.item,index:t.index})}}},[t._v("修改")]),i("el-dropdown-item",{nativeOn:{click:function(e){return e.stopPropagation(),t.$emit("del",t.index)}}},[t._v(" 删除")])],1)],1):i("span",{staticClass:"btn btn-light btn-sm border ml-auto"},[t._v(" "+t._s(t.item.num)+" ")])],1)}),a=[],r=(i("a9e3"),{props:{active:{type:Boolean,default:!1},item:Object,index:Number,showOptions:{type:Boolean,default:!0}}}),l=r,c=i("2877"),u=Object(c["a"])(l,s,a,!1,null,null,null),d=u.exports,m={components:{albumItem:d},data:function(){return{uploadModel:!1,searchForm:{order:"",keyword:""},albumIndex:0,albumModel:!1,albumEditIndex:-1,albumForm:{name:"",order:0},albums:[],previewModel:!1,previewUrl:"",imageList:[],chooseList:[],currentPage:1}},computed:{albumModelTitle:function(){return this.albumEditIndex>-1?"修改相册":"创建相册"}},created:function(){this.__init()},methods:{unChoose:function(){var t=this;this.imageList.forEach((function(e){var i=t.chooseList.findIndex((function(t){return t.id===e.id}));i>-1&&(e.ischeck=!1,e.checkOrder=0,t.chooseList.splice(i,1))}))},choose:function(t){var e=this;if(!t.ischeck)return this.chooseList.push({id:t.id,url:t.url}),t.checkOrder=this.chooseList.length,void(t.ischeck=!0);var i=this.chooseList.findIndex((function(e){return e.id===t.id}));if(-1!==i){var n=this.chooseList.length;if(i+1<n)for(var o=function(t){var i=e.imageList.findIndex((function(i){return i.id===e.chooseList[t].id}));i>-1&&e.imageList[i].checkOrder--},s=i;s<n;s++)o(s);this.chooseList.splice(i,1),t.ischeck=!1,t.checkOrder=0}},__init:function(){for(var t=0;t<20;t++)this.albums.push({name:"相册"+t,num:Math.floor(100*Math.random()),order:0});for(t=0;t<30;t++)this.imageList.push({id:t,url:"https://tangzhe123-com.oss-cn-shenzhen.aliyuncs.com/Appstatic/qsbk/demo/datapic/40.jpg",name:"图片"+t,ischeck:!1,checkOrder:0})},albumChange:function(t){this.albumIndex=t},openAlbumModel:function(t){if(t){var e=t.item,i=t.index;return this.albumForm.name=e.name,this.albumForm.order=e.order,this.albumEditIndex=i,this.albumModel=!0}this.albumForm={name:"",order:0},this.albumEditIndex=-1,this.albumModel=!0},confirmAlbumModel:function(){if(this.albumEditIndex>-1)return this.albumEdit(),this.albumModel=!1;this.albums.unshift({name:this.albumForm.name,order:this.albumForm.order,num:0}),this.albumModel=!1},albumEdit:function(){this.albums[this.albumEditIndex].name=this.albumForm.name,this.albums[this.albumEditIndex].order=this.albumForm.order},albumDel:function(t){var e=this;this.$confirm("是否删除该相册","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.albums.splice(t,1),e.$message({message:"删除成功",type:"success"})}))},previewImage:function(t){this.previewUrl=t.url,this.previewModel=!0},imageEdit:function(t,e){var i=this;this.$prompt("请输入新名称","提示",{confirmButtonText:"确定",cancelButtonText:"取消",inputValue:t.name,inputValidator:function(t){if(""===t)return"图片名称不能为空"}}).then((function(e){var n=e.value;t.name=n,i.$message({message:"修改成功",type:"success"})}))},imageDel:function(t){var e=this;this.$confirm(t.all?"是否删除选中图片?":"是否删除该图片?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){if(t.all){var i=e.imageList.filter((function(t){return!e.chooseList.some((function(e){return e.id===t.id}))}));e.imageList=i,e.chooseList=[]}else e.imageList.splice(t.index,1);e.$message({message:"删除成功",type:"success"})}))},handleSizeChange:function(t){console.log("每页 ".concat(t," 条"))},handleCurrentChange:function(t){console.log("当前页: ".concat(t))}}},p=m,h=(i("d569"),Object(c["a"])(p,n,o,!1,null,null,null));e["default"]=h.exports}}]);
//# sourceMappingURL=chunk-792f7732.8a1f514d.js.map