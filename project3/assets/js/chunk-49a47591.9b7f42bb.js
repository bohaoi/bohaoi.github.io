(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-49a47591"],{"25f0":function(t,e,r){"use strict";var n=r("6eeb"),a=r("825a"),i=r("d039"),o=r("ad6d"),l="toString",s=RegExp.prototype,c=s[l],u=i((function(){return"/a/b"!=c.call({source:"a",flags:"b"})})),d=c.name!=l;(u||d)&&n(RegExp.prototype,l,(function(){var t=a(this),e=String(t.source),r=t.flags,n=String(void 0===r&&t instanceof RegExp&&!("flags"in s)?o.call(t):r);return"/"+e+"/"+n}),{unsafe:!0})},3442:function(t,e,r){"use strict";var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{staticClass:"d-flex align-items-center"},[t._t("left"),t.showSearch?r("div",{directives:[{name:"show",rawName:"v-show",value:!t.superSearch,expression:"!superSearch"}],staticClass:"ml-auto"},[t._t("right",[r("el-input",{staticClass:"mr-2",staticStyle:{width:"150px"},attrs:{placeholder:t.placeholder,size:"mini"},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}}),r("el-button",{attrs:{type:"info",size:"mini"},on:{click:function(e){return t.$emit("search",t.keyword)}}},[t._v("搜索")]),r("el-button",{attrs:{size:"mini"},on:{click:function(e){t.superSearch=!0}}},[t._v("高级搜索")])])],2):t._e()],2),r("el-card",{directives:[{name:"show",rawName:"v-show",value:t.superSearch,expression:"superSearch"}],staticClass:"box-card bg-light my-3"},[r("div",{staticClass:"clearfix",staticStyle:{margin:"-10px"},attrs:{slot:"header"},slot:"header"},[r("span",[t._v("高级搜索")]),r("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"},on:{click:t.closeSuperSearch}},[t._v("收起")])],1),t._t("form")],2)],1)},a=[],i={props:{placeholder:{type:String,default:""},showSearch:{type:Boolean,default:!0}},data:function(){return{keyword:"",superSearch:!1}},methods:{closeSuperSearch:function(){this.superSearch=!1}}},o=i,l=r("2877"),s=Object(l["a"])(o,n,a,!1,null,null,null);e["a"]=s.exports},"4df4":function(t,e,r){"use strict";var n=r("0366"),a=r("7b0b"),i=r("9bdd"),o=r("e95a"),l=r("50c4"),s=r("8418"),c=r("35a1");t.exports=function(t){var e,r,u,d,f,p,m=a(t),b="function"==typeof this?this:Array,v=arguments.length,h=v>1?arguments[1]:void 0,y=void 0!==h,g=c(m),w=0;if(y&&(h=n(h,v>2?arguments[2]:void 0,2)),void 0==g||b==Array&&o(g))for(e=l(m.length),r=new b(e);e>w;w++)p=y?h(m[w],w):m[w],s(r,w,p);else for(d=g.call(m),f=d.next,r=new b;!(u=f.call(d)).done;w++)p=y?i(d,h,[u.value,w],!0):u.value,s(r,w,p);return r.length=w,r}},"4fc5":function(t,e,r){},5530:function(t,e,r){"use strict";r.d(e,"a",(function(){return i}));r("a4d3"),r("4de4"),r("4160"),r("e439"),r("dbb4"),r("b64b"),r("159b");function n(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function a(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function i(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?a(Object(r),!0).forEach((function(e){n(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}},a15b:function(t,e,r){"use strict";var n=r("23e7"),a=r("44ad"),i=r("fc6a"),o=r("a640"),l=[].join,s=a!=Object,c=o("join",",");n({target:"Array",proto:!0,forced:s||!c},{join:function(t){return l.call(i(this),void 0===t?",":t)}})},a630:function(t,e,r){var n=r("23e7"),a=r("4df4"),i=r("1c7e"),o=!i((function(t){Array.from(t)}));n({target:"Array",stat:!0,forced:o},{from:a})},b64b:function(t,e,r){var n=r("23e7"),a=r("7b0b"),i=r("df75"),o=r("d039"),l=o((function(){i(1)}));n({target:"Object",stat:!0,forced:l},{keys:function(t){return i(a(t))}})},bc96:function(t,e,r){"use strict";var n=r("4fc5"),a=r.n(n);a.a},c740:function(t,e,r){"use strict";var n=r("23e7"),a=r("b727").findIndex,i=r("44d2"),o=r("ae40"),l="findIndex",s=!0,c=o(l);l in[]&&Array(1)[l]((function(){s=!1})),n({target:"Array",proto:!0,forced:s||!c},{findIndex:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}}),i(l)},dbb4:function(t,e,r){var n=r("23e7"),a=r("83ab"),i=r("56ef"),o=r("fc6a"),l=r("06cf"),s=r("8418");n({target:"Object",stat:!0,sham:!a},{getOwnPropertyDescriptors:function(t){var e,r,n=o(t),a=l.f,c=i(n),u={},d=0;while(c.length>d)r=a(n,e=c[d++]),void 0!==r&&s(u,e,r);return u}})},e1a4:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"bg-white px-3",staticStyle:{margin:"-20px","margin-top":"-1rem","margin-bottom":"0!important"}},[r("button-search",{staticClass:"pt-3",attrs:{showSearch:!1},scopedSlots:t._u([{key:"left",fn:function(){return[r("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(e){return t.openModel(!1)}}},[t._v("添加类型")]),r("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(e){return t.deleteAll()}}},[t._v("批量删除")])]},proxy:!0}])}),r("el-table",{staticClass:"mt-3",staticStyle:{width:"100%"},attrs:{border:"",data:t.tableData},on:{"selection-change":t.handleSelectionChange}},[r("el-table-column",{attrs:{type:"selection",width:"45",align:"center"}}),r("el-table-column",{attrs:{label:"类型名称",prop:"name"}}),r("el-table-column",{attrs:{align:"center",width:"380",label:"属性标签"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t._f("formatValue")(e.row.value_list))+" ")]}}])}),r("el-table-column",{attrs:{align:"center",prop:"order",label:"排序"}}),r("el-table-column",{attrs:{prop:"status",align:"center",label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-button",{attrs:{type:e.row.status?"success":"danger",size:"mini",plain:""},on:{click:function(r){return t.changeStatus(e.row)}}},[t._v(t._s(e.row.status?"启用":"禁用")+" ")])]}}])}),r("el-table-column",{attrs:{align:"center",label:"操作",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-button-group",[r("el-button",{attrs:{type:"primary",size:"mini",plain:""},on:{click:function(r){return t.openModel(e)}}},[t._v("修改")]),r("el-button",{attrs:{type:"danger",size:"mini",plain:""},on:{click:function(r){return t.deleteItem(e)}}},[t._v("删除")])],1)]}}])})],1),r("div",{staticStyle:{height:"60px"}}),r("el-footer",{staticClass:"border-top d-flex align-items-center px-0 position-fixed bg-white",staticStyle:{bottom:"0",left:"200px",right:"0","z-index":"100"}},[r("div",{staticClass:"px-2",staticStyle:{flex:"1"}},[r("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":[100,200,300,400],"page-size":100,layout:"total, sizes, prev, pager, next, jumper",total:400}})],1)]),r("el-dialog",{attrs:{width:"80%",title:"添加类型",visible:t.createModel,top:"5vh"},on:{"update:visible":function(e){t.createModel=e}}},[r("el-form",{ref:"form",attrs:{rules:t.rules,model:t.form,"label-width":"80px"}},[r("el-form-item",{attrs:{label:"类型名称",prop:"name"}},[r("el-input",{staticStyle:{width:"25%"},attrs:{placeholder:"类型名称",size:"mini"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),r("el-form-item",{attrs:{label:"排序"}},[r("el-input-number",{attrs:{size:"mini",min:0},model:{value:t.form.order,callback:function(e){t.$set(t.form,"order",e)},expression:"form.order"}})],1),r("el-form-item",{attrs:{label:"状态"}},[r("el-radio-group",{attrs:{size:"mini"},model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}},[r("el-radio",{attrs:{label:1,v:"",border:""}},[t._v("启用")]),r("el-radio",{attrs:{label:0,border:""}},[t._v("禁用")])],1)],1),r("el-form-item",{attrs:{label:"关联规格"}},[r("div",{staticClass:"d-flex"},[r("span",{staticClass:"sku-list-item px-3 py-2 border rounded mr-3",staticStyle:{"line-height":"initial"}},[r("font",[t._v("颜色")]),r("i",{staticClass:"el-icon-delete"})],1),r("el-button",{attrs:{size:"mini"}},[r("i",{staticClass:"el-icon-plus"})])],1)]),r("el-form-item",{attrs:{label:"属性列表"}},[r("el-table",{staticStyle:{width:"100%"},attrs:{data:t.value_list}},[r("el-table-column",{attrs:{prop:"order",label:"排序",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-input",{attrs:{size:"mini",placeholder:"排序"},model:{value:e.row.order,callback:function(r){t.$set(e.row,"order",r)},expression:"scope.row.order"}})]}}])}),r("el-table-column",{attrs:{prop:"name",label:"属性名称",width:"130"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-input",{attrs:{size:"mini",placeholder:"属性名称"},model:{value:e.row.name,callback:function(r){t.$set(e.row,"name",r)},expression:"scope.row.name"}})]}}])}),r("el-table-column",{attrs:{prop:"type",label:"所属类型",width:"130"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-select",{attrs:{placeholder:"请选择所属类型",size:"mini"},model:{value:e.row.type,callback:function(r){t.$set(e.row,"type",r)},expression:"scope.row.type"}},[r("el-option",{attrs:{label:"输入框",value:"input"}}),r("el-option",{attrs:{label:"单选框",value:"radio"}}),r("el-option",{attrs:{label:"多选框",value:"checkbox"}})],1)]}}])}),r("el-table-column",{attrs:{prop:"status",label:"是否显示",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.row.status,callback:function(r){t.$set(e.row,"status",r)},expression:"scope.row.status"}})]}}])}),r("el-table-column",{attrs:{label:"属性值"},scopedSlots:t._u([{key:"default",fn:function(e){return"input"!==e.row.type?[e.row.isedit?r("el-input",{attrs:{type:"textarea",size:"mini",placeholder:"一行为一个属性值，多个属性值用换行输入"},model:{value:e.row.value,callback:function(r){t.$set(e.row,"value",r)},expression:"scope.row.value"}}):r("span",[t._v(t._s(e.row.value))])]:void 0}}],null,!0)}),r("el-table-column",{attrs:{label:"操作",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return["input"!==e.row.type?r("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(r){return t.editRow(e)}}},[t._v(t._s(e.row.isedit?"完成":"编辑属性值"))]):t._e(),r("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(r){return t.delRow(e.$index)}}},[t._v("删除")])]}}])})],1)],1),r("el-form-item",[r("el-button",{attrs:{type:"text",size:"mini",icon:"el-icon-plus"},on:{click:t.addValue}},[t._v("添加一个属性")])],1)],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(e){t.createModel=!1}}},[t._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("确 定")])],1)],1)],1)},a=[];r("c740"),r("4160"),r("a15b"),r("d81d"),r("a434"),r("b0c0"),r("159b");function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function o(t){if(Array.isArray(t))return i(t)}r("a4d3"),r("e01a"),r("d28b"),r("a630"),r("d3b7"),r("3ca3"),r("ddb0");function l(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}r("fb6a"),r("25f0");function s(t,e){if(t){if("string"===typeof t)return i(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(t,e):void 0}}function c(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(t){return o(t)||l(t)||s(t)||c()}var d=r("5530"),f=r("3442"),p={components:{buttonSearch:f["a"]},data:function(){return{tableData:[{id:1,name:"家电",order:50,status:1,sku_list:[{id:1,name:"颜色"},{id:2,name:"尺寸"}],value_list:[{order:50,name:"特性",type:"input",value:""},{order:50,name:"前置摄像机",type:"input",value:""}]}],currentPage:1,multipleSelection:[],createModel:!1,editIndex:-1,form:{name:"",order:50,status:1,sku_list:[]},value_list:[{order:50,name:"属性名称",type:"input",value:"属性值",isedit:!1}],rules:{name:[{required:!0,message:"类型名称不能为空",trigger:"blur"}]}}},created:function(){},filters:{formatValue:function(t){var e=t.map((function(t){return t.name}));return e.join(",")}},methods:{deleteAll:function(){var t=this;this.$confirm("是否要删除选中规格?","提示",{confirmButtonText:"删除",cancelButtonText:"取消",type:"warning"}).then((function(){t.multipleSelection.forEach((function(e){var r=t.tableData.findIndex((function(t){return t.id===e.id}));-1!==r&&t.tableData.splice(r,1)})),t.multipleSelection=[],t.$message({message:"删除成功",type:"success"})}))},openModel:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t?(this.form=Object(d["a"])({},t.row),this.value_list=u(t.row.value_list),this.editIndex=t.$index):(this.form={name:"",order:50,status:1,sku_list:[]},this.value_list=[],this.editIndex=-1),this.createModel=!0},submit:function(){var t=this;this.$refs.form.validate((function(e){var r=!0,n=[];if(t.value_list.forEach((function(t,e){var a=e+1;""==t.order&&(r=r&&!1,n.push("第"+a+"行：排序不能为空")),""==t.name&&(r=r&&!1,n.push("第"+a+"行：属性名称不能为空")),"input"!==t.type&&""==t.value&&(r=r&&!1,n.push("第"+a+"行：属性值不能为空"))})),!r){var a="";return n.forEach((function(t){a+="<li>".concat(t,"</li>")})),t.$notify({title:"属性列表提示",dangerouslyUseHTMLString:!0,type:"warning",duration:3e3,message:"<ul>".concat(a,"</ul>")})}if(e){var i="添加";if(-1===t.editIndex)t.tableData.unshift(Object(d["a"])(Object(d["a"])({},t.form),{},{value_list:u(t.value_list)}));else{var o=t.tableData[t.editIndex];o.name=t.form.name,o.sku_list=t.form.sku_list,o.status=t.form.status,o.type=t.form.type,o.order=t.form.order,o.value_list=t.value_list,i="修改"}t.createModel=!1,t.$message({message:i+"成功",type:"success"})}}))},changeStatus:function(t){t.status=!t.status,this.$message({message:t.status?"启用":"禁用",type:"success"})},handleSelectionChange:function(t){this.multipleSelection=t},deleteItem:function(t){var e=this;this.$confirm("是否要删除该规格?","提示",{confirmButtonText:"删除",cancelButtonText:"取消",type:"warning"}).then((function(){e.tableData.splice(t.$index,1),e.$message({message:"删除成功",type:"success"})}))},addValue:function(){this.value_list.push({order:50,name:"",type:"input",value:"",isedit:!1})},editRow:function(t){t.row.isedit=!t.row.isedit},delRow:function(t){this.value_list.splice(t,1)}}},m=p,b=(r("bc96"),r("2877")),v=Object(b["a"])(m,n,a,!1,null,null,null);e["default"]=v.exports},e439:function(t,e,r){var n=r("23e7"),a=r("d039"),i=r("fc6a"),o=r("06cf").f,l=r("83ab"),s=a((function(){o(1)})),c=!l||s;n({target:"Object",stat:!0,forced:c,sham:!l},{getOwnPropertyDescriptor:function(t,e){return o(i(t),e)}})},fb6a:function(t,e,r){"use strict";var n=r("23e7"),a=r("861d"),i=r("e8b5"),o=r("23cb"),l=r("50c4"),s=r("fc6a"),c=r("8418"),u=r("b622"),d=r("1dde"),f=r("ae40"),p=d("slice"),m=f("slice",{ACCESSORS:!0,0:0,1:2}),b=u("species"),v=[].slice,h=Math.max;n({target:"Array",proto:!0,forced:!p||!m},{slice:function(t,e){var r,n,u,d=s(this),f=l(d.length),p=o(t,f),m=o(void 0===e?f:e,f);if(i(d)&&(r=d.constructor,"function"!=typeof r||r!==Array&&!i(r.prototype)?a(r)&&(r=r[b],null===r&&(r=void 0)):r=void 0,r===Array||void 0===r))return v.call(d,p,m);for(n=new(void 0===r?Array:r)(h(m-p,0)),u=0;p<m;p++,u++)p in d&&c(n,u,d[p]);return n.length=u,n}})}}]);
//# sourceMappingURL=chunk-49a47591.9b7f42bb.js.map