(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-03e014fa"],{3442:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"d-flex align-items-center"},[e._t("left"),e.showSearch?a("div",{directives:[{name:"show",rawName:"v-show",value:!e.superSearch,expression:"!superSearch"}],staticClass:"ml-auto"},[e._t("right",[a("el-input",{staticClass:"mr-2",staticStyle:{width:"150px"},attrs:{placeholder:e.placeholder,size:"mini"},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}}),a("el-button",{attrs:{type:"info",size:"mini"},on:{click:function(t){return e.$emit("search",e.keyword)}}},[e._v("搜索")]),a("el-button",{attrs:{size:"mini"},on:{click:function(t){e.superSearch=!0}}},[e._v("高级搜索")])])],2):e._e()],2),a("el-card",{directives:[{name:"show",rawName:"v-show",value:e.superSearch,expression:"superSearch"}],staticClass:"box-card bg-light my-3"},[a("div",{staticClass:"clearfix",staticStyle:{margin:"-10px"},attrs:{slot:"header"},slot:"header"},[a("span",[e._v("高级搜索")]),a("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"},on:{click:e.closeSuperSearch}},[e._v("收起")])],1),e._t("form")],2)],1)},l=[],n={props:{placeholder:{type:String,default:""},showSearch:{type:Boolean,default:!0}},data:function(){return{keyword:"",superSearch:!1}},methods:{closeSuperSearch:function(){this.superSearch=!1}}},s=n,o=a("2877"),i=Object(o["a"])(s,r,l,!1,null,null,null);t["a"]=i.exports},"6e95":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"bg-white px-3",staticStyle:{margin:"-20px","margin-top":"-1rem","margin-bottom":"0!important"}},[a("button-search",{staticClass:"pt-3",attrs:{showSearch:!1},scopedSlots:e._u([{key:"left",fn:function(){return[a("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(t){return e.openModel(!1)}}},[e._v("添加规格")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(t){return e.deleteAll()}}},[e._v("批量删除")])]},proxy:!0}])}),a("el-table",{staticClass:"mt-3",staticStyle:{width:"100%"},attrs:{border:"",data:e.tableData},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"45",align:"center"}}),a("el-table-column",{attrs:{label:"规格名称",prop:"name"}}),a("el-table-column",{attrs:{prop:"value",align:"center",width:"380",label:"规格值"}}),a("el-table-column",{attrs:{align:"center",prop:"order",label:"排序"}}),a("el-table-column",{attrs:{prop:"status",align:"center",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:t.row.status?"success":"danger",size:"mini",plain:""},on:{click:function(a){return e.changeStatus(t.row)}}},[e._v(e._s(t.row.status?"启用":"禁用")+" ")])]}}])}),a("el-table-column",{attrs:{align:"center",label:"操作",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button-group",[a("el-button",{attrs:{type:"primary",size:"mini",plain:""},on:{click:function(a){return e.openModel(t)}}},[e._v("修改")]),a("el-button",{attrs:{type:"danger",size:"mini",plain:""},on:{click:function(a){return e.deleteItem(t)}}},[e._v("删除")])],1)]}}])})],1),a("div",{staticStyle:{height:"60px"}}),a("el-footer",{staticClass:"border-top d-flex align-items-center px-0 position-fixed bg-white",staticStyle:{bottom:"0",left:"200px",right:"0","z-index":"100"}},[a("div",{staticClass:"px-2",staticStyle:{flex:"1"}},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[100,200,300,400],"page-size":100,layout:"total, sizes, prev, pager, next, jumper",total:400}})],1)]),a("el-dialog",{attrs:{title:"添加规格",visible:e.createModel,top:"5vh"},on:{"update:visible":function(t){e.createModel=t}}},[a("el-form",{ref:"form",attrs:{rules:e.rules,model:e.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"规格名称",prop:"name"}},[a("el-input",{staticStyle:{width:"25%"},attrs:{placeholder:"规格名称",size:"mini"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"排序"}},[a("el-input-number",{attrs:{size:"mini",min:0},model:{value:e.form.order,callback:function(t){e.$set(e.form,"order",t)},expression:"form.order"}})],1),a("el-form-item",{attrs:{label:"状态"}},[a("el-radio-group",{attrs:{size:"mini"},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},[a("el-radio",{attrs:{label:1,v:"",border:""}},[e._v("启用")]),a("el-radio",{attrs:{label:0,border:""}},[e._v("禁用")])],1)],1),a("el-form-item",{attrs:{label:"类型"}},[a("el-radio-group",{attrs:{size:"mini"},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},[a("el-radio",{attrs:{label:0,v:"",border:""}},[e._v("文字")]),a("el-radio",{attrs:{label:1,border:""}},[e._v("颜色")]),a("el-radio",{attrs:{label:2,border:""}},[e._v("图片")])],1)],1),a("el-form-item",{attrs:{label:"规格值",prop:"value"}},[a("el-input",{attrs:{type:"textarea",rows:3,placeholder:"一行为一个规格项，多个规格项用换行输入"},model:{value:e.form.value,callback:function(t){e.$set(e.form,"value",t)},expression:"form.value"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.createModel=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("确 定")])],1)],1)],1)},l=[],n=(a("c740"),a("4160"),a("a434"),a("b0c0"),a("ac1f"),a("5319"),a("159b"),a("3442")),s={components:{buttonSearch:n["a"]},data:function(){return{tableData:[{id:1,name:"颜色1",value:"棕色,蓝色",order:50,status:1,type:0},{id:2,name:"颜色2",value:"棕色,蓝色",order:50,status:1,type:0},{id:3,name:"颜色3",value:"棕色,蓝色",order:50,status:1,type:0},{id:4,name:"颜色4",value:"棕色,蓝色",order:50,status:1,type:0},{id:5,name:"颜色5",value:"棕色,蓝色",order:50,status:1,type:0}],currentPage:1,multipleSelection:[],createModel:!1,editIndex:-1,form:{name:"",order:50,status:1,type:0,value:""},rules:{name:[{required:!0,message:"规格名称不能为空",trigger:"blur"}],value:[{required:!0,message:"规格值不能为空",trigger:"blur"}]}}},created:function(){},methods:{deleteAll:function(){var e=this;this.$confirm("是否要删除选中规格?","提示",{confirmButtonText:"删除",cancelButtonText:"取消",type:"warning"}).then((function(){e.multipleSelection.forEach((function(t){var a=e.tableData.findIndex((function(e){return e.id===t.id}));-1!==a&&e.tableData.splice(a,1)})),e.multipleSelection=[],e.$message({message:"删除成功",type:"success"})}))},openModel:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e?(this.form={name:e.row.name,order:e.row.order,status:e.row.status,type:e.row.type,value:e.row.value.replace(/,/g,"\n")},this.editIndex=e.$index):(this.form={name:"",order:50,status:1,type:0,value:""},this.editIndex=-1),this.createModel=!0},submit:function(){var e=this;this.$refs.form.validate((function(t){if(t){var a="添加";if(e.form.value=e.form.value.replace(/\n/g,","),console.log(e.form.value),-1===e.editIndex)e.tableData.unshift(e.form);else{var r=e.tableData[e.editIndex];r.name=e.form.name,r.value=e.form.value,r.status=e.form.status,r.type=e.form.type,r.order=e.form.order,a="修改"}e.createModel=!1,e.$message({message:a+"成功",type:"success"})}}))},changeStatus:function(e){e.status=!e.status,this.$message({message:e.status?"启用":"禁用",type:"success"})},handleSelectionChange:function(e){this.multipleSelection=e},deleteItem:function(e){var t=this;this.$confirm("是否要删除该规格?","提示",{confirmButtonText:"删除",cancelButtonText:"取消",type:"warning"}).then((function(){t.tableData.splice(e.$index,1),t.$message({message:"删除成功",type:"success"})}))}}},o=s,i=a("2877"),c=Object(i["a"])(o,r,l,!1,null,null,null);t["default"]=c.exports},c740:function(e,t,a){"use strict";var r=a("23e7"),l=a("b727").findIndex,n=a("44d2"),s=a("ae40"),o="findIndex",i=!0,c=s(o);o in[]&&Array(1)[o]((function(){i=!1})),r({target:"Array",proto:!0,forced:i||!c},{findIndex:function(e){return l(this,e,arguments.length>1?arguments[1]:void 0)}}),n(o)}}]);
//# sourceMappingURL=chunk-03e014fa.b6774735.js.map