(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1c87c4a6"],{da4c:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"editAddress"}},[a("van-nav-bar",{attrs:{title:"编辑地址","left-arrow":"",fixed:!0,border:!0},on:{"click-left":e.onClickLeft}}),a("van-address-edit",{staticStyle:{"margin-top":"3rem"},attrs:{"area-list":e.areaList,"address-info":e.addressInfo,"show-postal":"","show-delete":"","show-set-default":""},on:{save:e.onSave,delete:e.onDelete}})],1)},n=[],s=(a("b0c0"),a("e7e5"),a("d399")),o=(a("96cf"),a("1da1")),d=a("5530"),c=a("ae27"),i=a("2f62"),u=a("a9da"),l=a("911a"),f=a.n(l),p={name:"AddAddress",data:function(){return{areaList:c["a"],addressInfo:{}}},computed:Object(d["a"])({},Object(i["d"])(["userInfo"])),mounted:function(){this.$route.query.address_id&&this.userInfo.token&&this.getCurrentAddress(this.userInfo.token,this.$route.query.address_id)},methods:{onClickLeft:function(){this.$router.go(-1)},onSave:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!t.userInfo.token){a.next=6;break}return a.next=3,Object(u["c"])(t.addressInfo.id,t.userInfo.token,e.name,e.tel,e.province+e.city+e.county,e.addressDetail,e.postalCode,e.isDefault,e.province,e.city,e.county,e.areaCode);case 3:r=a.sent,console.log(r),200===r.success_code?(Object(s["a"])({message:"修改地址成功！",duration:400}),t.$router.back(),f.a.publish("backToMyAddress")):Object(s["a"])({message:"修改地址失败！",duration:400});case 6:case"end":return a.stop()}}),a)})))()},onDelete:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(u["d"])(e.addressInfo.id);case 2:a=t.sent,console.log(a),200===a.success_code?(Object(s["a"])({message:"删除地址成功！",duration:400}),e.$router.back(),f.a.publish("backToMyAddress")):Object(s["a"])({message:"删除地址失败！",duration:400});case 5:case"end":return t.stop()}}),t)})))()},getCurrentAddress:function(e,t){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,Object(u["g"])(e,t);case 2:n=r.sent,200===n.success_code&&(a.addressInfo={id:n.data._id,name:n.data.address_name,tel:n.data.address_phone,province:n.data.province,city:n.data.city,county:n.data.county,addressDetail:n.data.address_area_detail,areaCode:n.data.areaCode,postalCode:n.data.address_post_code,isDefault:n.data.address_tag});case 4:case"end":return r.stop()}}),r)})))()}}},b=p,h=(a("e18a"),a("2877")),m=Object(h["a"])(b,r,n,!1,null,null,null);t["default"]=m.exports},e18a:function(e,t,a){"use strict";var r=a("e5b7"),n=a.n(r);n.a},e5b7:function(e,t,a){}}]);
//# sourceMappingURL=chunk-1c87c4a6.c287261f.js.map