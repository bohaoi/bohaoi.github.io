{"version":3,"sources":["webpack:///./src/views/login/images/lk_logo_sm.png","webpack:///./node_modules/core-js/modules/es.string.trim.js","webpack:///./src/views/login/images/hide_pwd.png","webpack:///./node_modules/core-js/internals/string-trim-forced.js","webpack:///./src/views/login/Login.vue?f7a5","webpack:///src/views/login/Login.vue","webpack:///./src/views/login/Login.vue?c202","webpack:///./src/views/login/Login.vue","webpack:///./src/views/login/images/show_pwd.png","webpack:///./src/views/login/Login.vue?5a85"],"names":["module","exports","$","$trim","trim","forcedStringTrimMethod","target","proto","forced","this","fails","whitespaces","non","METHOD_NAME","name","render","_vm","_h","$createElement","_c","_self","staticClass","_m","class","current","loginMode","attrs","on","$event","dealLoginMode","_v","directives","rawName","value","expression","domProps","composing","phone","countDown","_s","phone_right","phoneRight","preventDefault","getVerifyCode","code","user_name","pwd","pwdMode","dealPwdMode","captcha","ref","getCaptcha","login","$router","back","staticRenderFns","data","userInfo","computed","test","methods","flag","$set","component"],"mappings":"qGAAAA,EAAOC,QAAU,IAA0B,+B,oCCC3C,IAAIC,EAAI,EAAQ,QACZC,EAAQ,EAAQ,QAA4BC,KAC5CC,EAAyB,EAAQ,QAIrCH,EAAE,CAAEI,OAAQ,SAAUC,OAAO,EAAMC,OAAQH,EAAuB,SAAW,CAC3ED,KAAM,WACJ,OAAOD,EAAMM,U,qBCTjBT,EAAOC,QAAU,IAA0B,6B,qBCA3C,IAAIS,EAAQ,EAAQ,QAChBC,EAAc,EAAQ,QAEtBC,EAAM,MAIVZ,EAAOC,QAAU,SAAUY,GACzB,OAAOH,GAAM,WACX,QAASC,EAAYE,MAAkBD,EAAIC,MAAkBD,GAAOD,EAAYE,GAAaC,OAASD,O,yCCT1G,IAAIE,EAAS,WAAa,IAAIC,EAAIP,KAASQ,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,mBAAmB,CAACF,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACL,EAAIM,GAAG,GAAGH,EAAG,MAAM,CAACE,YAAY,sBAAsB,CAACF,EAAG,IAAI,CAACI,MAAM,CAAEC,QAASR,EAAIS,WAAYC,MAAM,CAAC,KAAO,gBAAgBC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOZ,EAAIa,eAAc,MAAS,CAACb,EAAIc,GAAG,UAAUX,EAAG,IAAI,CAACI,MAAM,CAAEC,SAAUR,EAAIS,WAAYC,MAAM,CAAC,KAAO,gBAAgBC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOZ,EAAIa,eAAc,MAAU,CAACb,EAAIc,GAAG,cAAcX,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACF,EAAG,OAAO,CAACA,EAAG,MAAM,CAACI,MAAM,CAACC,QAASR,EAAIS,YAAa,CAACN,EAAG,UAAU,CAACE,YAAY,iBAAiB,CAACF,EAAG,QAAQ,CAACY,WAAW,CAAC,CAACjB,KAAK,QAAQkB,QAAQ,UAAUC,MAAOjB,EAAS,MAAEkB,WAAW,UAAUR,MAAM,CAAC,KAAO,MAAM,UAAY,KAAK,YAAc,OAAOS,SAAS,CAAC,MAASnB,EAAS,OAAGW,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOtB,OAAO8B,YAAqBpB,EAAIqB,MAAMT,EAAOtB,OAAO2B,WAAYjB,EAAIsB,UAAiMnB,EAAG,SAAS,CAACE,YAAY,mBAAmBK,MAAM,CAAC,SAAW,aAAa,CAACV,EAAIc,GAAG,QAAQd,EAAIuB,GAAGvB,EAAIsB,WAAW,SAAvSnB,EAAG,SAAS,CAACE,YAAY,mBAAmBE,MAAM,CAACiB,YAAaxB,EAAIyB,YAAYd,GAAG,CAAC,MAAQ,SAASC,GAAgC,OAAxBA,EAAOc,iBAAwB1B,EAAI2B,mBAAmB,CAAC3B,EAAIc,GAAG,aAAuIX,EAAG,UAAU,CAACE,YAAY,sBAAsB,CAACF,EAAG,QAAQ,CAACY,WAAW,CAAC,CAACjB,KAAK,QAAQkB,QAAQ,UAAUC,MAAOjB,EAAQ,KAAEkB,WAAW,SAASR,MAAM,CAAC,KAAO,OAAO,UAAY,IAAI,YAAc,OAAOS,SAAS,CAAC,MAASnB,EAAQ,MAAGW,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOtB,OAAO8B,YAAqBpB,EAAI4B,KAAKhB,EAAOtB,OAAO2B,aAAYd,EAAG,UAAU,CAACE,YAAY,cAAc,CAACL,EAAIc,GAAG,4CAA4CX,EAAG,MAAM,CAACI,MAAM,CAAEC,SAAUR,EAAIS,YAAa,CAACN,EAAG,UAAU,CAACA,EAAG,UAAU,CAACE,YAAY,iBAAiB,CAACF,EAAG,QAAQ,CAACY,WAAW,CAAC,CAACjB,KAAK,QAAQkB,QAAQ,UAAUC,MAAOjB,EAAa,UAAEkB,WAAW,cAAcR,MAAM,CAAC,KAAO,QAAQ,UAAY,KAAK,YAAc,OAAOS,SAAS,CAAC,MAASnB,EAAa,WAAGW,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOtB,OAAO8B,YAAqBpB,EAAI6B,UAAUjB,EAAOtB,OAAO2B,aAAYd,EAAG,UAAU,CAACE,YAAY,sBAAsB,CAAEL,EAAW,QAAEG,EAAG,QAAQ,CAACY,WAAW,CAAC,CAACjB,KAAK,QAAQkB,QAAQ,UAAUC,MAAOjB,EAAO,IAAEkB,WAAW,QAAQR,MAAM,CAAC,KAAO,WAAW,UAAY,KAAK,YAAc,KAAK,aAAe,OAAOS,SAAS,CAAC,MAASnB,EAAO,KAAGW,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOtB,OAAO8B,YAAqBpB,EAAI8B,IAAIlB,EAAOtB,OAAO2B,WAAUd,EAAG,QAAQ,CAACY,WAAW,CAAC,CAACjB,KAAK,QAAQkB,QAAQ,UAAUC,MAAOjB,EAAO,IAAEkB,WAAW,QAAQR,MAAM,CAAC,KAAO,OAAO,UAAY,KAAK,YAAc,KAAK,aAAe,OAAOS,SAAS,CAAC,MAASnB,EAAO,KAAGW,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOtB,OAAO8B,YAAqBpB,EAAI8B,IAAIlB,EAAOtB,OAAO2B,WAAUd,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,MAAM,CAACI,MAAM,CAACI,GAAIX,EAAI+B,SAASrB,MAAM,CAAC,IAAM,EAAQ,QAAyB,IAAM,GAAG,MAAQ,MAAMC,GAAG,CAAC,MAAQ,SAASC,GAAgC,OAAxBA,EAAOc,iBAAwB1B,EAAIgC,aAAY,OAAW7B,EAAG,MAAM,CAACI,MAAM,CAACI,IAAKX,EAAI+B,SAASrB,MAAM,CAAC,IAAM,EAAQ,QAAyB,IAAM,GAAG,MAAQ,MAAMC,GAAG,CAAC,MAAQ,SAASC,GAAgC,OAAxBA,EAAOc,iBAAwB1B,EAAIgC,aAAY,WAAc7B,EAAG,UAAU,CAACE,YAAY,iBAAiB,CAACF,EAAG,QAAQ,CAACY,WAAW,CAAC,CAACjB,KAAK,QAAQkB,QAAQ,UAAUC,MAAOjB,EAAW,QAAEkB,WAAW,YAAYR,MAAM,CAAC,KAAO,OAAO,UAAY,IAAI,YAAc,OAAOS,SAAS,CAAC,MAASnB,EAAW,SAAGW,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOtB,OAAO8B,YAAqBpB,EAAIiC,QAAQrB,EAAOtB,OAAO2B,WAAUd,EAAG,MAAM,CAAC+B,IAAI,UAAU7B,YAAY,mBAAmBK,MAAM,CAAC,IAAM,8CAA8C,IAAM,WAAWC,GAAG,CAAC,MAAQ,SAASC,GAAgC,OAAxBA,EAAOc,iBAAwB1B,EAAImC,WAAWvB,aAAkBT,EAAG,SAAS,CAACE,YAAY,eAAeM,GAAG,CAAC,MAAQ,SAASC,GAAgC,OAAxBA,EAAOc,iBAAwB1B,EAAIoC,MAAMxB,MAAW,CAACZ,EAAIc,GAAG,UAAUX,EAAG,SAAS,CAACE,YAAY,aAAaM,GAAG,CAAC,MAAQ,SAASC,GAAgC,OAAxBA,EAAOc,iBAAwB1B,EAAIqC,QAAQC,UAAU,CAACtC,EAAIc,GAAG,eACr+HyB,EAAkB,CAAC,WAAa,IAAIvC,EAAIP,KAASQ,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,MAAM,CAACO,MAAM,CAAC,IAAM,EAAQ,QAA2B,OAAS,MAAM,MAAQ,a,8FC0FhO,GACEZ,KAAM,QACN0C,KAFF,WAGI,MAAO,CACL/B,WAAW,EACXY,MAAO,KACPC,UAAW,EACXM,KAAM,KACNa,SAAU,KAEVZ,UAAW,KACXC,IAAK,KACLC,SAAS,EACTE,QAAS,OAGbS,SAAU,CAERjB,WAFJ,WAGM,MAAO,6BAA6BkB,KAAKlD,KAAK4B,SAGlDuB,QAAS,OAAX,OAAW,CAAX,kBACA,kCADA,IAGI/B,cAHJ,SAGA,GACMpB,KAAKgB,UAAYoC,GAGnB,cAPJ,WAOA,kKAEA,aAFA,uBAGA,eAEA,qCACA,cACA,iBACA,8BAEA,KAVA,SAYA,wBAZA,OAYA,EAZA,OAaA,eAbA,8CAiBI,MAxBJ,WAwBA,oKAEA,YAFA,oBAKA,eALA,uBAMA,gBACA,kBACA,eARA,6BAWA,aAXA,uBAaA,gBACA,qBACA,eAfA,6BAoBA,cApBA,wBAqBA,gBACA,iBACA,eAvBA,8BA0BA,yBA1BA,wBA4BA,gBACA,oBACA,eA9BA,4CAoCA,+BApCA,QAoCA,EApCA,OAsCA,sBAEA,uBAEA,8BAEA,gBACA,6BACA,eA9CA,2BAmDA,YAnDA,wBAoDA,gBACA,kBACA,eAtDA,8BAyDA,MAzDA,wBA0DA,gBACA,iBACA,eA5DA,8BA+DA,UA/DA,wBAgEA,gBACA,kBACA,eAlEA,4CAuEA,4CAvEA,QAuEA,EAvEA,OAyEA,sBAEA,uBAEA,kBAEA,gBACA,2BACA,eAjFA,+CAuFIb,YA/GJ,SA+GA,GACMvC,KAAKsC,QAAUc,GAGjBV,WAnHJ,WAqHM,IAAN,qBACM1C,KAAKqD,KACX,EACA,MACA,kEC1O8V,I,wBCQ1VC,EAAY,eACd,EACAhD,EACAwC,GACA,EACA,KACA,KACA,MAIa,aAAAQ,E,8BCnBf/D,EAAOC,QAAU,IAA0B,6B,yDCA3C,yBAA8d,EAAG","file":"js/chunk-01351089.728c2c27.js","sourcesContent":["module.exports = __webpack_public_path__ + \"img/lk_logo_sm.1186c474.png\";","'use strict';\nvar $ = require('../internals/export');\nvar $trim = require('../internals/string-trim').trim;\nvar forcedStringTrimMethod = require('../internals/string-trim-forced');\n\n// `String.prototype.trim` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.trim\n$({ target: 'String', proto: true, forced: forcedStringTrimMethod('trim') }, {\n  trim: function trim() {\n    return $trim(this);\n  }\n});\n","module.exports = __webpack_public_path__ + \"img/hide_pwd.d20f9390.png\";","var fails = require('../internals/fails');\nvar whitespaces = require('../internals/whitespaces');\n\nvar non = '\\u200B\\u0085\\u180E';\n\n// check that a method works with the correct list\n// of whitespaces and has a correct name\nmodule.exports = function (METHOD_NAME) {\n  return fails(function () {\n    return !!whitespaces[METHOD_NAME]() || non[METHOD_NAME]() != non || whitespaces[METHOD_NAME].name !== METHOD_NAME;\n  });\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login-container\"},[_c('div',{staticClass:\"login-inner\"},[_c('div',{staticClass:\"login-header\"},[_vm._m(0),_c('div',{staticClass:\"login-header-title\"},[_c('a',{class:{ current: _vm.loginMode },attrs:{\"href\":\"javascript:;\"},on:{\"click\":function($event){return _vm.dealLoginMode(true)}}},[_vm._v(\"手机登录\")]),_c('a',{class:{ current: !_vm.loginMode },attrs:{\"href\":\"javascript:;\"},on:{\"click\":function($event){return _vm.dealLoginMode(false)}}},[_vm._v(\"密码登录\")])])]),_c('div',{staticClass:\"login-content\"},[_c('form',[_c('div',{class:{current: _vm.loginMode }},[_c('section',{staticClass:\"login-message\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.phone),expression:\"phone\"}],attrs:{\"type\":\"tel\",\"maxlength\":\"11\",\"placeholder\":\"手机号\"},domProps:{\"value\":(_vm.phone)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.phone=$event.target.value}}}),(!_vm.countDown)?_c('button',{staticClass:\"get-verification\",class:{phone_right: _vm.phoneRight},on:{\"click\":function($event){$event.preventDefault();return _vm.getVerifyCode()}}},[_vm._v(\"获取验证码\")]):_c('button',{staticClass:\"get-verification\",attrs:{\"disabled\":\"disabled\"}},[_vm._v(\" 已发送(\"+_vm._s(_vm.countDown)+\"s) \")])]),_c('section',{staticClass:\"login-verification\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.code),expression:\"code\"}],attrs:{\"type\":\"text\",\"maxlength\":\"8\",\"placeholder\":\"验证码\"},domProps:{\"value\":(_vm.code)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.code=$event.target.value}}})]),_c('section',{staticClass:\"login-hint\"},[_vm._v(\" 温馨提示：测试账号请输入手机号码，获取验证码，验证码均为666666 \")])]),_c('div',{class:{ current: !_vm.loginMode }},[_c('section',[_c('section',{staticClass:\"login-message\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.user_name),expression:\"user_name\"}],attrs:{\"type\":\"phone\",\"maxlength\":\"11\",\"placeholder\":\"用户名\"},domProps:{\"value\":(_vm.user_name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.user_name=$event.target.value}}})]),_c('section',{staticClass:\"login-verification\"},[(_vm.pwdMode)?_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.pwd),expression:\"pwd\"}],attrs:{\"type\":\"password\",\"maxlength\":\"20\",\"placeholder\":\"密码\",\"autocomplete\":\"off\"},domProps:{\"value\":(_vm.pwd)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.pwd=$event.target.value}}}):_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.pwd),expression:\"pwd\"}],attrs:{\"type\":\"text\",\"maxlength\":\"20\",\"placeholder\":\"密码\",\"autocomplete\":\"off\"},domProps:{\"value\":(_vm.pwd)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.pwd=$event.target.value}}}),_c('div',{staticClass:\"switch-show\"},[_c('img',{class:{on: _vm.pwdMode},attrs:{\"src\":require(\"./images/hide_pwd.png\"),\"alt\":\"\",\"width\":\"20\"},on:{\"click\":function($event){$event.preventDefault();return _vm.dealPwdMode(false)}}}),_c('img',{class:{on: !_vm.pwdMode},attrs:{\"src\":require(\"./images/show_pwd.png\"),\"alt\":\"\",\"width\":\"20\"},on:{\"click\":function($event){$event.preventDefault();return _vm.dealPwdMode(true)}}})])]),_c('section',{staticClass:\"login-message\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.captcha),expression:\"captcha\"}],attrs:{\"type\":\"text\",\"maxlength\":\"4\",\"placeholder\":\"验证码\"},domProps:{\"value\":(_vm.captcha)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.captcha=$event.target.value}}}),_c('img',{ref:\"captcha\",staticClass:\"get-verification\",attrs:{\"src\":\"http://demo.itlike.com/web/xlmc/api/captcha\",\"alt\":\"captcha\"},on:{\"click\":function($event){$event.preventDefault();return _vm.getCaptcha($event)}}})])])]),_c('button',{staticClass:\"login-submit\",on:{\"click\":function($event){$event.preventDefault();return _vm.login($event)}}},[_vm._v(\"登录\")])]),_c('button',{staticClass:\"login-back\",on:{\"click\":function($event){$event.preventDefault();return _vm.$router.back()}}},[_vm._v(\"返回\")])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login-logo\"},[_c('img',{attrs:{\"src\":require(\"./images/lk_logo_sm.png\"),\"height\":\"135\",\"width\":\"300\"}})])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"login-container\">\r\n    <!--登陆面板内容部分-->\r\n    <div class=\"login-inner\">\r\n      <!--面板头部-->\r\n      <div class=\"login-header\">\r\n        <div class=\"login-logo\">\r\n          <img src=\"./images/lk_logo_sm.png\" height=\"135\" width=\"300\" />\r\n        </div>\r\n\r\n        <!--面板标题-->\r\n        <div class=\"login-header-title\">\r\n          <a\r\n            href=\"javascript:;\"\r\n            :class=\"{ current: loginMode }\"\r\n            @click=\"dealLoginMode(true)\"\r\n            >手机登录</a\r\n          >\r\n          <a\r\n            href=\"javascript:;\"\r\n            :class=\"{ current: !loginMode }\"\r\n            @click=\"dealLoginMode(false)\"\r\n            >密码登录</a\r\n          >\r\n        </div>\r\n      </div>\r\n\r\n      <!--面板表单内容-->\r\n      <div class=\"login-content\">\r\n        <form>\r\n          <!--手机验证码登录部分-->\r\n          <div :class=\"{current: loginMode }\">\r\n            <section class=\"login-message\">\r\n              <input type='tel' maxlength=\"11\" placeholder=\"手机号\" v-model=\"phone\"></input>\r\n              <button v-if=\"!countDown\" class=\"get-verification\" :class=\"{phone_right: phoneRight}\" @click.prevent=\"getVerifyCode()\">获取验证码</button>\r\n                <button v-else disabled=\"disabled\" class=\"get-verification\">\r\n                  已发送({{countDown}}s)\r\n                </button>\r\n            </section>\r\n            <section class=\"login-verification\">\r\n              <input type=\"text\" maxlength=\"8\" placeholder=\"验证码\" v-model=\"code\"/>\r\n            </section>\r\n            <section class=\"login-hint\">\r\n              温馨提示：测试账号请输入手机号码，获取验证码，验证码均为666666\r\n              <!-- <a href=\"javascript:;\">采用微信扫码支付</a> -->\r\n            </section>\r\n          </div>\r\n          \r\n          <!--账号登录-->\r\n          <div :class=\"{ current: !loginMode }\">\r\n            <section>\r\n              <section class=\"login-message\">\r\n                <input type=\"phone\" maxlength=\"11\" placeholder=\"用户名\" v-model=\"user_name\"></input>\r\n              </section>\r\n              <section class=\"login-verification\">\r\n                <input v-if=\"pwdMode\" type=\"password\" maxlength=\"20\" placeholder=\"密码\" autocomplete=\"off\" v-model=\"pwd\"/>\r\n                  <input v-else type=\"text\" maxlength=\"20\" placeholder=\"密码\" autocomplete=\"off\" v-model=\"pwd\"/>\r\n                    <div class=\"switch-show\">\r\n                        <img src=\"./images/hide_pwd.png\" :class=\"{on: pwdMode}\" @click.prevent=\"dealPwdMode(false)\" alt=\"\" width=\"20\">\r\n                         <img src=\"./images/show_pwd.png\" :class=\"{on: !pwdMode}\"  @click.prevent=\"dealPwdMode(true)\" alt=\"\" width=\"20\">\r\n                    </div>\r\n              </section>\r\n              <section class=\"login-message\">\r\n                <input type=\"text\" maxlength=\"4\" placeholder=\"验证码\" v-model=\"captcha\">\r\n                  <img\r\n                    class=\"get-verification\"\r\n                    src=\"http://demo.itlike.com/web/xlmc/api/captcha\"\r\n                    alt=\"captcha\"\r\n                    @click.prevent=\"getCaptcha\"\r\n                    ref=\"captcha\"\r\n                  >\r\n              </section>\r\n            </section>\r\n          </div>\r\n          <button class=\"login-submit\" @click.prevent=\"login\">登录</button>\r\n        </form>\r\n          <button class=\"login-back\" @click.prevent=\"$router.back()\">返回</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  getPhoneCode,\r\n  phoneCodeLogin,\r\n  pwdLogin,\r\n} from \"./../../service/api/index\";\r\nimport { mapActions } from \"vuex\";\r\nimport { Toast } from \"vant\";\r\n\r\nexport default {\r\n  name: \"login\",\r\n  data() {\r\n    return {\r\n      loginMode: true, // 登录模式\r\n      phone: null, // 手机号码\r\n      countDown: 0, // 倒计时\r\n      code: null, // 手机验证码\r\n      userInfo: null, // 用户信息\r\n\r\n      user_name: null, // 用户名\r\n      pwd: null, // 密码\r\n      pwdMode: true, // true密文 false明文\r\n      captcha: null, // 图形验证码\r\n    };\r\n  },\r\n  computed: {\r\n    // 验证手机号码是否正确\r\n    phoneRight() {\r\n      return /^[1][3,4,5,6,7,8][0-9]{9}$/.test(this.phone);\r\n    },\r\n  },\r\n  methods: {\r\n    ...mapActions([\"syncUserInfo\"]),\r\n    // 1. 处理登录模式\r\n    dealLoginMode(flag) {\r\n      this.loginMode = flag;\r\n    },\r\n    // 2. 获取短信验证码\r\n    async getVerifyCode() {\r\n      // 2.1 过滤\r\n      if (this.phoneRight) {\r\n        this.countDown = 60;\r\n        // 2.2 倒计时\r\n        this.intervalId = setInterval(() => {\r\n          this.countDown--;\r\n          if (this.countDown === 0) {\r\n            clearInterval(this.intervalId);\r\n          }\r\n        }, 1000);\r\n        // 2.3 获取短信验证码\r\n        let result = await getPhoneCode(this.phone);\r\n        console.log(result);\r\n      }\r\n    },\r\n    // 3. 登录\r\n    async login() {\r\n      // 3.1 判断登录模式\r\n      if (this.loginMode) {\r\n        // 手机验证码登录\r\n        // 3.1.1 输入数据校验\r\n        if (!this.phone.trim()) {\r\n          Toast({\r\n            message: \"请输入手机号码\",\r\n            duration: 500,\r\n          });\r\n          return;\r\n        } else if (!this.phoneRight) {\r\n          // 手机号码不正确\r\n          Toast({\r\n            message: \"请输入正确的手机号码\",\r\n            duration: 500,\r\n          });\r\n          return;\r\n        }\r\n\r\n        if (!this.code.trim()) {\r\n          Toast({\r\n            message: \"请输入验证码\",\r\n            duration: 500,\r\n          });\r\n          return;\r\n        } else if (!/^\\d{6}$/gi.test(this.code)) {\r\n          // 验证码不正确\r\n          Toast({\r\n            message: \"请输入正确的验证码\",\r\n            duration: 500,\r\n          });\r\n          return;\r\n        }\r\n\r\n        // 3.1.2 手机验证码登录\r\n        let result = await phoneCodeLogin(this.phone, this.code);\r\n        // console.log(result);\r\n        if (result.success_code === 200) {\r\n          // 4.1 保存用户信息\r\n          this.syncUserInfo(result.data);\r\n          // 4.2 回到主面板\r\n          this.$router.push(\"/dashboard\");\r\n        } else {\r\n          Toast({\r\n            message: \"登录失败，手机号码或者验证码不正确！\",\r\n            duration: 500,\r\n          });\r\n        }\r\n      } else {\r\n        // 3.2 用户名和密码登录\r\n        if (!this.user_name) {\r\n          Toast({\r\n            message: \"请输入用户名！\",\r\n            duration: 500,\r\n          });\r\n          return;\r\n        } else if (!this.pwd) {\r\n          Toast({\r\n            message: \"请输入密码！\",\r\n            duration: 500,\r\n          });\r\n          return;\r\n        } else if (!this.captcha) {\r\n          Toast({\r\n            message: \"请输入验证码！\",\r\n            duration: 500,\r\n          });\r\n          return;\r\n        }\r\n        // 3.2.1 发起请求\r\n        let result = await pwdLogin(this.user_name, this.pwd, this.captcha);\r\n        // console.log(result);\r\n        if (result.success_code === 200) {\r\n          // 4.1 保存用户信息\r\n          this.syncUserInfo(result.data);\r\n          // 4.2 回到主面板\r\n          this.$router.back();\r\n        } else {\r\n          Toast({\r\n            message: \"登录失败，用户名或者密码不正确！\",\r\n            duration: 500,\r\n          });\r\n        }\r\n      }\r\n    },\r\n    // 4. 处理密码的显示\r\n    dealPwdMode(flag) {\r\n      this.pwdMode = flag;\r\n    },\r\n    // 5. 获取随机图形验证码\r\n    getCaptcha() {\r\n      // 1.获取验证码的标签\r\n      let captchaEle = this.$refs.captcha;\r\n      this.$set(\r\n        captchaEle,\r\n        \"src\",\r\n        \"http://demo.itlike.com/web/xlmc/api/captcha?time=\" + new Date()\r\n      );\r\n      // console.log(captchaEle);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n.login-container {\r\n  width: 100%;\r\n  height: 100%;\r\n  background: #fff;\r\n  background-image: url(./images/bg.jpg);\r\n}\r\n\r\n.login-container .login-inner {\r\n  padding-top: 60px;\r\n  width: 80%;\r\n  margin: 0 auto;\r\n}\r\n\r\n.login-container .login-inner .login-header .login-logo {\r\n  font-size: 40px;\r\n  font-weight: bold;\r\n  color: #75a342;\r\n  text-align: center;\r\n}\r\n\r\n.login-container .login-inner .login-header .login-header-title {\r\n  padding-top: 40px;\r\n  padding-bottom: 10px;\r\n  text-align: center;\r\n}\r\n\r\n.login-container .login-inner .login-header .login-header-title > a {\r\n  color: rgb(37, 29, 29);\r\n  font-size: 17px;\r\n  padding-bottom: 4px;\r\n}\r\n\r\n.login-container\r\n  .login-inner\r\n  .login-header\r\n  .login-header-title\r\n  > a:first-child {\r\n  margin-right: 40px;\r\n}\r\n\r\n.login-container .login-inner .login-header .login-header-title > a.current {\r\n  color: #596d42;\r\n  font-weight: 600;\r\n  border-bottom: 2px solid #5c7045;\r\n}\r\n\r\n.login-container .login-inner .login-content > form > div {\r\n  display: none;\r\n}\r\n\r\n.login-container .login-inner .login-content > form > div.current {\r\n  display: block;\r\n}\r\n\r\n.login-container .login-inner .login-content > form > div {\r\n  display: none;\r\n}\r\n\r\n.login-container .login-inner .login-content > form > div.current {\r\n  display: block;\r\n}\r\n\r\n.login-container .login-inner .login-content > form > div input {\r\n  width: 100%;\r\n  height: 100%;\r\n  padding-left: 8px;\r\n  box-sizing: border-box;\r\n  border: 1px solid #ddd;\r\n  border-radius: 4px;\r\n  outline: 0;\r\n  font: 400 14px Arial;\r\n}\r\n\r\n.login-container .login-inner .login-content > form > div input:focus {\r\n  border: 1px solid #75a342;\r\n}\r\n\r\n.login-container .login-inner .login-content > form > div .login-message {\r\n  position: relative;\r\n  margin-top: 16px;\r\n  height: 48px;\r\n  font-size: 14px;\r\n  background: #fff;\r\n}\r\n\r\n.login-container\r\n  .login-inner\r\n  .login-content\r\n  > form\r\n  > div\r\n  .login-message\r\n  .get-verification {\r\n  position: absolute;\r\n  top: 50%;\r\n  right: 10px;\r\n  transform: translateY(-50%);\r\n  border: 0;\r\n  color: #ccc;\r\n  font-size: 14px;\r\n  background: transparent;\r\n}\r\n\r\n.login-container\r\n  .login-inner\r\n  .login-content\r\n  > form\r\n  > div\r\n  .login-message\r\n  .get-verification.phone_right {\r\n  color: #75a342;\r\n}\r\n\r\n.login-container .login-inner .login-content > form > div .login-verification {\r\n  position: relative;\r\n  margin-top: 16px;\r\n  height: 48px;\r\n  font-size: 14px;\r\n  background: #fff;\r\n}\r\n\r\n.login-container\r\n  .login-inner\r\n  .login-content\r\n  > form\r\n  > div\r\n  .login-verification\r\n  .switch-show {\r\n  position: absolute;\r\n  right: 10px;\r\n  top: 12px;\r\n}\r\n\r\n.login-container\r\n  .login-inner\r\n  .login-content\r\n  > form\r\n  > div\r\n  .login-verification\r\n  .switch-show\r\n  img {\r\n  display: none;\r\n}\r\n\r\n.login-container\r\n  .login-inner\r\n  .login-content\r\n  > form\r\n  > div\r\n  .login-verification\r\n  .switch-show\r\n  img.on {\r\n  display: block;\r\n}\r\n\r\n.login-container .login-inner .login-content > form > div .login-hint {\r\n  margin-top: 12px;\r\n  color: #999;\r\n  font-size: 12px;\r\n  line-height: 20px;\r\n}\r\n\r\n.login-container .login-inner .login-content > form > div .login-hint > a {\r\n  color: #75a342;\r\n}\r\n\r\n.login-container .login-inner .login-content > form .login-submit {\r\n  display: block;\r\n  width: 100%;\r\n  height: 42px;\r\n  margin-top: 30px;\r\n  border-radius: 4px;\r\n  background: #75a342;\r\n  color: #fff;\r\n  text-align: center;\r\n  font-size: 16px;\r\n  line-height: 42px;\r\n  border: 0;\r\n}\r\n\r\n.login-container .login-inner .login-content .login-back {\r\n  display: block;\r\n  width: 100%;\r\n  height: 42px;\r\n  margin-top: 15px;\r\n  border-radius: 4px;\r\n  background: transparent;\r\n  border: 1px solid #75a342;\r\n  color: #75a342;\r\n  text-align: center;\r\n  font-size: 16px;\r\n  line-height: 42px;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=83938aa4&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","module.exports = __webpack_public_path__ + \"img/show_pwd.fa936067.png\";","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}