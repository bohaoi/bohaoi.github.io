(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-01351089"],{"1f90":function(e,t,n){e.exports=n.p+"img/lk_logo_sm.1186c474.png"},"498a":function(e,t,n){"use strict";var a=n("23e7"),r=n("58a8").trim,o=n("c8d2");a({target:"String",proto:!0,forced:o("trim")},{trim:function(){return r(this)}})},7871:function(e,t,n){e.exports=n.p+"img/hide_pwd.d20f9390.png"},c8d2:function(e,t,n){var a=n("d039"),r=n("5899"),o="​᠎";e.exports=function(e){return a((function(){return!!r[e]()||o[e]()!=o||r[e].name!==e}))}},ede4:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login-container"},[a("div",{staticClass:"login-inner"},[a("div",{staticClass:"login-header"},[e._m(0),a("div",{staticClass:"login-header-title"},[a("a",{class:{current:e.loginMode},attrs:{href:"javascript:;"},on:{click:function(t){return e.dealLoginMode(!0)}}},[e._v("手机登录")]),a("a",{class:{current:!e.loginMode},attrs:{href:"javascript:;"},on:{click:function(t){return e.dealLoginMode(!1)}}},[e._v("密码登录")])])]),a("div",{staticClass:"login-content"},[a("form",[a("div",{class:{current:e.loginMode}},[a("section",{staticClass:"login-message"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.phone,expression:"phone"}],attrs:{type:"tel",maxlength:"11",placeholder:"手机号"},domProps:{value:e.phone},on:{input:function(t){t.target.composing||(e.phone=t.target.value)}}}),e.countDown?a("button",{staticClass:"get-verification",attrs:{disabled:"disabled"}},[e._v(" 已发送("+e._s(e.countDown)+"s) ")]):a("button",{staticClass:"get-verification",class:{phone_right:e.phoneRight},on:{click:function(t){return t.preventDefault(),e.getVerifyCode()}}},[e._v("获取验证码")])]),a("section",{staticClass:"login-verification"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.code,expression:"code"}],attrs:{type:"text",maxlength:"8",placeholder:"验证码"},domProps:{value:e.code},on:{input:function(t){t.target.composing||(e.code=t.target.value)}}})]),a("section",{staticClass:"login-hint"},[e._v(" 温馨提示：测试账号请输入手机号码，获取验证码，验证码均为666666 ")])]),a("div",{class:{current:!e.loginMode}},[a("section",[a("section",{staticClass:"login-message"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.user_name,expression:"user_name"}],attrs:{type:"phone",maxlength:"11",placeholder:"用户名"},domProps:{value:e.user_name},on:{input:function(t){t.target.composing||(e.user_name=t.target.value)}}})]),a("section",{staticClass:"login-verification"},[e.pwdMode?a("input",{directives:[{name:"model",rawName:"v-model",value:e.pwd,expression:"pwd"}],attrs:{type:"password",maxlength:"20",placeholder:"密码",autocomplete:"off"},domProps:{value:e.pwd},on:{input:function(t){t.target.composing||(e.pwd=t.target.value)}}}):a("input",{directives:[{name:"model",rawName:"v-model",value:e.pwd,expression:"pwd"}],attrs:{type:"text",maxlength:"20",placeholder:"密码",autocomplete:"off"},domProps:{value:e.pwd},on:{input:function(t){t.target.composing||(e.pwd=t.target.value)}}}),a("div",{staticClass:"switch-show"},[a("img",{class:{on:e.pwdMode},attrs:{src:n("7871"),alt:"",width:"20"},on:{click:function(t){return t.preventDefault(),e.dealPwdMode(!1)}}}),a("img",{class:{on:!e.pwdMode},attrs:{src:n("f880"),alt:"",width:"20"},on:{click:function(t){return t.preventDefault(),e.dealPwdMode(!0)}}})])]),a("section",{staticClass:"login-message"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.captcha,expression:"captcha"}],attrs:{type:"text",maxlength:"4",placeholder:"验证码"},domProps:{value:e.captcha},on:{input:function(t){t.target.composing||(e.captcha=t.target.value)}}}),a("img",{ref:"captcha",staticClass:"get-verification",attrs:{src:"http://demo.itlike.com/web/xlmc/api/captcha",alt:"captcha"},on:{click:function(t){return t.preventDefault(),e.getCaptcha(t)}}})])])]),a("button",{staticClass:"login-submit",on:{click:function(t){return t.preventDefault(),e.login(t)}}},[e._v("登录")])]),a("button",{staticClass:"login-back",on:{click:function(t){return t.preventDefault(),e.$router.back()}}},[e._v("返回")])])])])},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login-logo"},[a("img",{attrs:{src:n("1f90"),height:"135",width:"300"}})])}],o=(n("498a"),n("e7e5"),n("d399")),i=(n("96cf"),n("1da1")),c=n("5530"),s=n("a9da"),u=n("2f62"),l={name:"login",data:function(){return{loginMode:!0,phone:null,countDown:0,code:null,userInfo:null,user_name:null,pwd:null,pwdMode:!0,captcha:null}},computed:{phoneRight:function(){return/^[1][3,4,5,6,7,8][0-9]{9}$/.test(this.phone)}},methods:Object(c["a"])(Object(c["a"])({},Object(u["b"])(["syncUserInfo"])),{},{dealLoginMode:function(e){this.loginMode=e},getVerifyCode:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.phoneRight){t.next=7;break}return e.countDown=60,e.intervalId=setInterval((function(){e.countDown--,0===e.countDown&&clearInterval(e.intervalId)}),1e3),t.next=5,Object(s["k"])(e.phone);case 5:n=t.sent,console.log(n);case 7:case"end":return t.stop()}}),t)})))()},login:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.loginMode){t.next=23;break}if(e.phone.trim()){t.next=6;break}return Object(o["a"])({message:"请输入手机号码",duration:500}),t.abrupt("return");case 6:if(e.phoneRight){t.next=9;break}return Object(o["a"])({message:"请输入正确的手机号码",duration:500}),t.abrupt("return");case 9:if(e.code.trim()){t.next=14;break}return Object(o["a"])({message:"请输入验证码",duration:500}),t.abrupt("return");case 14:if(/^\d{6}$/gi.test(e.code)){t.next=17;break}return Object(o["a"])({message:"请输入正确的验证码",duration:500}),t.abrupt("return");case 17:return t.next=19,Object(s["n"])(e.phone,e.code);case 19:n=t.sent,200===n.success_code?(e.syncUserInfo(n.data),e.$router.push("/dashboard")):Object(o["a"])({message:"登录失败，手机号码或者验证码不正确！",duration:500}),t.next=40;break;case 23:if(e.user_name){t.next=28;break}return Object(o["a"])({message:"请输入用户名！",duration:500}),t.abrupt("return");case 28:if(e.pwd){t.next=33;break}return Object(o["a"])({message:"请输入密码！",duration:500}),t.abrupt("return");case 33:if(e.captcha){t.next=36;break}return Object(o["a"])({message:"请输入验证码！",duration:500}),t.abrupt("return");case 36:return t.next=38,Object(s["o"])(e.user_name,e.pwd,e.captcha);case 38:a=t.sent,200===a.success_code?(e.syncUserInfo(a.data),e.$router.back()):Object(o["a"])({message:"登录失败，用户名或者密码不正确！",duration:500});case 40:case"end":return t.stop()}}),t)})))()},dealPwdMode:function(e){this.pwdMode=e},getCaptcha:function(){var e=this.$refs.captcha;this.$set(e,"src","http://demo.itlike.com/web/xlmc/api/captcha?time="+new Date)}})},d=l,p=(n("fcb0"),n("2877")),m=Object(p["a"])(d,a,r,!1,null,null,null);t["default"]=m.exports},f880:function(e,t,n){e.exports=n.p+"img/show_pwd.fa936067.png"},f8ac:function(e,t,n){},fcb0:function(e,t,n){"use strict";var a=n("f8ac"),r=n.n(a);r.a}}]);
//# sourceMappingURL=chunk-01351089.728c2c27.js.map